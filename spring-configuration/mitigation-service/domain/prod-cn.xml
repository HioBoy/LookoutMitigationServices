<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">
    
    <bean id="prod-cn.daasControlAPIServiceURL" class="java.lang.String">
        <constructor-arg value="http://daas-operator-control-api.amazon.com:80"/>
    </bean>
    
    <bean id="prod-cn.edgeOperatorServiceURL" class="java.lang.String">
        <constructor-arg value="http://edge-operator-service.amazon.com:8080"/>
    </bean>

    <bean id="prod-cn.dogfishBucketSuffix" class="java.lang.String">
        <constructor-arg value="prod" />
    </bean>
    
    <bean id="prod-cn.masterRegion" class="java.lang.String">
        <constructor-arg value="BJS"/>
    </bean>
    
    <util:list id="prod-cn.fakeBlackWatchClassicLocations"/>
    
    <bean id="prod-cn.blackwatchMWSMetricDataset" class="java.lang.String">
        <constructor-arg value="Prod"/>
    </bean>
    
    <util:set id="prod-cn.defaultPOPsForEdgeLocationsHelper"/>

    <bean id="prod-cn.edgeLocationsHelper" class="com.amazon.lookout.mitigation.service.workflow.helper.EdgeLocationsHelper">
        <constructor-arg name="cloudfrontClient" ref="edgeOperatorServiceClient"/>
        <constructor-arg name="daasClient" ref="daasControlAPIServiceClient"/>
        <constructor-arg name="millisToSleepBetweenRetries" value="500"/>
        <constructor-arg name="popsListDir" value="var/state/popsList"/>
        <constructor-arg name="metricsFactory" ref="metricsFactory"/>
        <constructor-arg name="fakeBlackWatchClassicLocations" ref="prod-cn.fakeBlackWatchClassicLocations"/>
    </bean>
     
    <bean id="prod-cn.edgeLocationPattern" class="java.lang.String">
        <constructor-arg value="^E-([A-Z0-9]+)(-C[0-9]+)?$"/>
    </bean>

    <bean id="prod-cn.allowedLocationPrefix" class="java.lang.String">
        <constructor-arg value=""/>
    </bean>

    <bean id="prod-cn.LocationState.readCapacityUnits" class="java.lang.Long">
        <constructor-arg value="200"/>
    </bean>

    <bean id="prod-cn.LocationState.writeCapacityUnits" class="java.lang.Long">
        <constructor-arg value="50"/>
    </bean>
    
    <bean id="prod-cn.MitigationState.readCapacityUnits" class="java.lang.Long">
        <constructor-arg value="200"/>
    </bean>

    <bean id="prod-cn.MitigationState.writeCapacityUnits" class="java.lang.Long">
        <constructor-arg value="200"/>
    </bean>
    
    <bean id="prod-cn.ResourceAllocationState.readCapacityUnits" class="java.lang.Long">
        <constructor-arg value="200"/>
    </bean>

    <bean id="prod-cn.ResourceAllocationState.writeCapacityUnits" class="java.lang.Long">
        <constructor-arg value="200"/>
    </bean>

    <import resource="file:${spring.config.root}/mitigation-service/domain/prod-cn-locations-generated.xml"/>
</beans>
