<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <!--
    The EnvironmentHelper makes Apollo Manifest, Environment Variables and
    System Properties available to your configuration as Property
    Placeholders. This means you can use variables like ${domain} or ${root}
    in your Spring configuration.
    -->
    <bean id="environment" class="com.amazon.coral.spring.EnvironmentHelper"/>

    <!-- Include from LookoutMitigationServiceCommons -->
    <import resource="file:${spring.config.root}/common/common.xml"/>
    <import resource="file:${spring.config.root}/common/domain/${domain}.xml"/>

    <!--
    The following statements import the spring-configuration files in the listed
    order.
    -->
    <import resource="file:${spring.config.root}/mitigation-service/environment/*.xml"/>
    <import resource="file:${spring.config.root}/mitigation-service/*.xml"/>
    <import resource="file:${spring.config.root}/mitigation-service/location_type/${MITSVC_LOCATION_TYPE}.xml"/>
    <import resource="file:${spring.config.root}/mitigation-service/domain/${domain}.xml"/>
</beans>
